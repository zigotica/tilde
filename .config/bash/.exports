#!/usr/bin/env bash

#####################################################################################
#                                                                      EXPORTS / PATH
#####################################################################################

export EDITOR="vi"
export VISUAL="nvim"

# Increase Bash history size. Allow 32³ entries; the default is 500.
export HISTSIZE='32768';
export HISTFILESIZE="${HISTSIZE}";
# Omit duplicates and commands that begin with a space from history.
export HISTCONTROL='ignoreboth';

# locale needed for tmux to digest nerd fonts properly
export LANG="en_US.UTF-8"
export LC_ALL=$LANG

# Folders for git / backup purposes
export DIR_PERSONAL="~/Documents/personal/"
export DIR_WORK="~/Documents/work/"

# exa icons
export EXA_ICON_SPACING=2

# pipe fzf searches through ag
# it's faster and allows filtering out .gitignore content
if [[ ! -z $(which fzf) ]] && [[ ! -z $(which ag) ]]; then
  export FZF_DEFAULT_COMMAND="rg --hidden --no-ignore --glob=!.git/ --files"
  export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
  export FZF_ALT_C_COMMAND="$FZF_DEFAULT_COMMAND"
fi

# curl
export LDFLAGS="-L/${BREW_PREFIX}/opt/curl/lib"
export CPPFLAGS="-I/${BREW_PREFIX}/opt/curl/include"
PATH="${BREW_PREFIX}/opt/grep/libexec/gnubin:$PATH"
PATH="${BREW_PREFIX}/opt/findutils/libexec/gnubin:$PATH"
PATH="${BREW_PREFIX}/opt/gnu-sed/libexec/gnubin:$PATH"

# Puppeteer needed for visual regression tests
# recommended: brew install --cask eloston-chromium
export PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
export PUPPETEER_EXECUTABLE_PATH=/Applications/Chromium.app/

# path
PATH=$PATH:$HOME/bin:$HOME/.config/bin:/usr/local/bin:/usr/local/sbin:usr/bin:/usr/sbin

# node/nvm
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

export PATH
