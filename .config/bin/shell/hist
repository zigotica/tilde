#!/usr/bin/env bash

# Return history entries filtered by grep or number of items
# use case: hist [<grep>] [<number>]
# example: hist yarn
# example: hist 20
# example: hist yarn 20

HISTFILE=$HOME/.bash_history
set -o history

if [[ -n "$@" ]]; then
  if [ "$#" -gt 1 ]; then
    if [ -z "${2//[0-9]}" ]; then
      history | grep "$1" | tail -"$2";
    else
      echo "usage: hist [<grep>] [<number>]" >&2;
      exit 1;
    fi
  elif [ -z "${@//[0-9]}" ]; then
    history | tail -"$@";
  else
    history | grep "$@";
  fi;
else
  history;
fi;

